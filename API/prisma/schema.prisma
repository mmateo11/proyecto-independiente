generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = "mysql://root:@127.0.0.1:3306/independiente"
}

enum TipoNoticia {
  PRINCIPAL
  SECUNDARIO
}

enum MetodoPago {
  EFECTIVO
  TARJETA
  TRANSFERENCIA
}

model jugadores {
  id         Int    @id @default(autoincrement())
  nombre     String
  posicion   String
  dorsal     Int
  url_imagen String
}

model noticias {
  id          Int         @id @default(autoincrement())
  titulo      String
  tipo        TipoNoticia
  descripcion String
  fecha       DateTime    @default(now())
  url_imagen  String
}

model partidos {
  id        Int        @id @default(autoincrement())
  fecha     DateTime
  rival     String
  resultado String?
  entradas  entradas[]
}

model entradas {
  id          Int        @id @default(autoincrement())
  id_partido  Int
  id_socio    Int
  valor       Float
  metodo_pago MetodoPago
  partido     partidos   @relation(fields: [id_partido], references: [id])
  socio       socios     @relation(fields: [id_socio], references: [id])
}

model socios {
  id          Int         @id @default(autoincrement())
  nombre      String
  fecha_nac   DateTime
  email       String      @unique
  password    String
  metodo_pago String
  activo      Boolean     @default(true)
  creado_en   DateTime    @default(now())

  entradas    entradas[]
}


